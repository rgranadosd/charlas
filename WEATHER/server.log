INFO:     Started server process [43699]
INFO:     Waiting for application startup.
INFO:weather_mcp_openmeteo:üéØ ASGI Wrapper ejecut√°ndose: type=lifespan, path=None
INFO:mcp.server.streamable_http_manager:StreamableHTTP session manager started
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)
INFO:weather_mcp_openmeteo:üéØ ASGI Wrapper ejecut√°ndose: type=http, path=/mcp
INFO:weather_mcp_openmeteo:üîç Accept header original: 'application/json, text/event-stream'
INFO:weather_mcp_openmeteo:Incoming request: POST http://192.168.1.181:8080/mcp
INFO:weather_mcp_openmeteo:Headers: {'authorization': 'Bearer cualquier-token-jwt', 'activityid': '4f48ec0c-9441-46a0-95a1-bd190bad47f4', 'accept': 'application/json, text/event-stream', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'host': '192.168.1.181:8080', 'connection': 'Keep-Alive', 'user-agent': 'Synapse-PT-HttpComponents-NIO'}
INFO:mcp.server.streamable_http_manager:Created new transport with session ID: 0dea28e23ea7429fba2428343ccaf797
INFO:weather_mcp_openmeteo:Response status: 200
‚úÖ ASGI app configurada: ASGIAcceptHeaderWrapper
‚úÖ Wrapper activo: True
INFO:     192.168.1.181:62731 - "POST /mcp HTTP/1.1" 200 OK
INFO:weather_mcp_openmeteo:üéØ ASGI Wrapper ejecut√°ndose: type=http, path=/mcp
INFO:weather_mcp_openmeteo:üîç Accept header original: 'application/json, text/event-stream'
INFO:weather_mcp_openmeteo:Incoming request: POST http://192.168.1.181:8080/mcp
INFO:weather_mcp_openmeteo:Headers: {'authorization': 'Bearer eyJ4NXQiOiJNekF6TVRGak9EUTFNRE5qT1RVMVpEQTROR1E1TURrell6RTNNV0k0TW1SbFpHVTNZelpqWWprNFpHUmtNMlJoTW1Jd01qQXhZekpsTUdKak5qZG1OdyIsImtpZCI6Ik16QXpNVEZqT0RRMU1ETmpPVFUxWkRBNE5HUTVNRGt6WXpFM01XSTRNbVJsWkdVM1l6WmpZams0WkdSa00yUmhNbUl3TWpBeFl6SmxNR0pqTmpkbU53X1JTMjU2IiwidHlwIjoiYXQrand0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIzMWRlMGIzMy0zZmVlLTQ4M2QtOTkzNS1lNDdkYTZkOWQzYjkiLCJhdXQiOiJBUFBMSUNBVElPTiIsImF1ZCI6ImY0QUtfTFAyU0tiZjNNMU1LZVZDUVl4TFNMMGEiLCJuYmYiOjE3NzAwMzE2ODksImF6cCI6ImY0QUtfTFAyU0tiZjNNMU1LZVZDUVl4TFNMMGEiLCJzY29wZSI6ImRlZmF1bHQiLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo5NDUzL29hdXRoMi90b2tlbiIsImV4cCI6MTc3MDAzNTI4OSwiaWF0IjoxNzcwMDMxNjg5LCJqdGkiOiJmYTIzYWVmZS0wNDk4LTRlYTYtYjQ5OC1iMzA2MzhjNzg0OTMiLCJjbGllbnRfaWQiOiJmNEFLX0xQMlNLYmYzTTFNS2VWQ1FZeExTTDBhIn0.AFqRRXBfxHBzX2OTMbQV6Eaep_aC-SP5ruoM6UoWvfv241KmSsne-VxBteAyleG5O-e9_r0jNm0xCQqOTiQ9LhA4w0EvUeezGDm_v64P9GTHPCU4BLd2Wl81bdferJYjty4R4ujeMomxEE6sppwkLUuQO5Q3961XLUUOaugi_w24NWZ-HBje8h5CbflC0nAsok0aTJrGmJTW0OB6cqpjKbvHfO_qdhwv4CSXEnthjZtRSrXClYE416XB33p6REw-YXWauZSXTVfkjRtTJJw72vGcrEoX0ggJ6RxkBipJljWGKuV2L__moqjtUSc9y6eyIb0EXIRp2ia9ZTtsXy4azA', 'origin': 'https://localhost:9453', 'activityid': '5ae9d72f-fb04-4218-823b-083ea308c09f', 'accept': 'application/json, text/event-stream', 'priority': 'u=3, i', 'referer': 'https://localhost:9453/', 'sec-fetch-dest': 'empty', 'sec-fetch-site': 'same-site', 'accept-encoding': 'gzip, deflate, br', 'accept-language': 'en-GB,en;q=0.9', 'sec-fetch-mode': 'cors', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'host': '192.168.1.181:8080', 'connection': 'Keep-Alive', 'user-agent': 'Synapse-PT-HttpComponents-NIO'}
INFO:mcp.server.streamable_http_manager:Created new transport with session ID: c1cdf37a2a4d4dbc90bce5ceb83c5ffd
INFO:weather_mcp_openmeteo:Response status: 200
INFO:     192.168.1.181:65420 - "POST /mcp HTTP/1.1" 200 OK
INFO:weather_mcp_openmeteo:üéØ ASGI Wrapper ejecut√°ndose: type=http, path=/mcp
INFO:weather_mcp_openmeteo:üîç Accept header original: 'application/json, text/event-stream'
INFO:weather_mcp_openmeteo:Incoming request: POST http://192.168.1.181:8080/mcp
INFO:weather_mcp_openmeteo:Headers: {'origin': 'https://localhost:9453', 'accept': 'application/json, text/event-stream', 'priority': 'u=3, i', 'referer': 'https://localhost:9453/', 'sec-fetch-dest': 'empty', 'sec-fetch-site': 'same-site', 'accept-encoding': 'gzip, deflate, br', 'sec-fetch-mode': 'cors', 'authorization': 'Bearer eyJ4NXQiOiJNekF6TVRGak9EUTFNRE5qT1RVMVpEQTROR1E1TURrell6RTNNV0k0TW1SbFpHVTNZelpqWWprNFpHUmtNMlJoTW1Jd01qQXhZekpsTUdKak5qZG1OdyIsImtpZCI6Ik16QXpNVEZqT0RRMU1ETmpPVFUxWkRBNE5HUTVNRGt6WXpFM01XSTRNbVJsWkdVM1l6WmpZams0WkdSa00yUmhNbUl3TWpBeFl6SmxNR0pqTmpkbU53X1JTMjU2IiwidHlwIjoiYXQrand0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIzMWRlMGIzMy0zZmVlLTQ4M2QtOTkzNS1lNDdkYTZkOWQzYjkiLCJhdXQiOiJBUFBMSUNBVElPTiIsImF1ZCI6ImY0QUtfTFAyU0tiZjNNMU1LZVZDUVl4TFNMMGEiLCJuYmYiOjE3NzAwMzE2ODksImF6cCI6ImY0QUtfTFAyU0tiZjNNMU1LZVZDUVl4TFNMMGEiLCJzY29wZSI6ImRlZmF1bHQiLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo5NDUzL29hdXRoMi90b2tlbiIsImV4cCI6MTc3MDAzNTI4OSwiaWF0IjoxNzcwMDMxNjg5LCJqdGkiOiJmYTIzYWVmZS0wNDk4LTRlYTYtYjQ5OC1iMzA2MzhjNzg0OTMiLCJjbGllbnRfaWQiOiJmNEFLX0xQMlNLYmYzTTFNS2VWQ1FZeExTTDBhIn0.AFqRRXBfxHBzX2OTMbQV6Eaep_aC-SP5ruoM6UoWvfv241KmSsne-VxBteAyleG5O-e9_r0jNm0xCQqOTiQ9LhA4w0EvUeezGDm_v64P9GTHPCU4BLd2Wl81bdferJYjty4R4ujeMomxEE6sppwkLUuQO5Q3961XLUUOaugi_w24NWZ-HBje8h5CbflC0nAsok0aTJrGmJTW0OB6cqpjKbvHfO_qdhwv4CSXEnthjZtRSrXClYE416XB33p6REw-YXWauZSXTVfkjRtTJJw72vGcrEoX0ggJ6RxkBipJljWGKuV2L__moqjtUSc9y6eyIb0EXIRp2ia9ZTtsXy4azA', 'activityid': '75e5285e-cc39-4f8b-847e-c72b9e9da101', 'mcp-protocol-version': '2025-06-18', 'mcp-session-id': 'c1cdf37a2a4d4dbc90bce5ceb83c5ffd', 'accept-language': 'en-GB,en;q=0.9', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'host': '192.168.1.181:8080', 'connection': 'Keep-Alive', 'user-agent': 'Synapse-PT-HttpComponents-NIO'}
INFO:weather_mcp_openmeteo:Response status: 202
INFO:     192.168.1.181:65420 - "POST /mcp HTTP/1.1" 202 Accepted
INFO:weather_mcp_openmeteo:üéØ ASGI Wrapper ejecut√°ndose: type=http, path=/mcp
INFO:weather_mcp_openmeteo:üîç Accept header original: 'text/event-stream'
WARNING:weather_mcp_openmeteo:üîß ASGI Wrapper: Accept header incorrecto: 'text/event-stream' - Inyectando el correcto
INFO:weather_mcp_openmeteo:‚úÖ Accept header inyectado correctamente
INFO:weather_mcp_openmeteo:Incoming request: GET http://192.168.1.181:8080/mcp
INFO:weather_mcp_openmeteo:Headers: {'origin': 'https://localhost:9453', 'priority': 'u=3, i', 'referer': 'https://localhost:9453/', 'sec-fetch-dest': 'empty', 'sec-fetch-site': 'same-site', 'accept-encoding': 'gzip, deflate, br', 'sec-fetch-mode': 'cors', 'authorization': 'Bearer eyJ4NXQiOiJNekF6TVRGak9EUTFNRE5qT1RVMVpEQTROR1E1TURrell6RTNNV0k0TW1SbFpHVTNZelpqWWprNFpHUmtNMlJoTW1Jd01qQXhZekpsTUdKak5qZG1OdyIsImtpZCI6Ik16QXpNVEZqT0RRMU1ETmpPVFUxWkRBNE5HUTVNRGt6WXpFM01XSTRNbVJsWkdVM1l6WmpZams0WkdSa00yUmhNbUl3TWpBeFl6SmxNR0pqTmpkbU53X1JTMjU2IiwidHlwIjoiYXQrand0IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiIzMWRlMGIzMy0zZmVlLTQ4M2QtOTkzNS1lNDdkYTZkOWQzYjkiLCJhdXQiOiJBUFBMSUNBVElPTiIsImF1ZCI6ImY0QUtfTFAyU0tiZjNNMU1LZVZDUVl4TFNMMGEiLCJuYmYiOjE3NzAwMzE2ODksImF6cCI6ImY0QUtfTFAyU0tiZjNNMU1LZVZDUVl4TFNMMGEiLCJzY29wZSI6ImRlZmF1bHQiLCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo5NDUzL29hdXRoMi90b2tlbiIsImV4cCI6MTc3MDAzNTI4OSwiaWF0IjoxNzcwMDMxNjg5LCJqdGkiOiJmYTIzYWVmZS0wNDk4LTRlYTYtYjQ5OC1iMzA2MzhjNzg0OTMiLCJjbGllbnRfaWQiOiJmNEFLX0xQMlNLYmYzTTFNS2VWQ1FZeExTTDBhIn0.AFqRRXBfxHBzX2OTMbQV6Eaep_aC-SP5ruoM6UoWvfv241KmSsne-VxBteAyleG5O-e9_r0jNm0xCQqOTiQ9LhA4w0EvUeezGDm_v64P9GTHPCU4BLd2Wl81bdferJYjty4R4ujeMomxEE6sppwkLUuQO5Q3961XLUUOaugi_w24NWZ-HBje8h5CbflC0nAsok0aTJrGmJTW0OB6cqpjKbvHfO_qdhwv4CSXEnthjZtRSrXClYE416XB33p6REw-YXWauZSXTVfkjRtTJJw72vGcrEoX0ggJ6RxkBipJljWGKuV2L__moqjtUSc9y6eyIb0EXIRp2ia9ZTtsXy4azA', 'activityid': '3a96b7c4-582f-4391-96b5-969a1788ec9b', 'mcp-protocol-version': '2025-06-18', 'mcp-session-id': 'c1cdf37a2a4d4dbc90bce5ceb83c5ffd', 'accept-language': 'en-GB,en;q=0.9', 'host': '192.168.1.181:8080', 'connection': 'Keep-Alive', 'user-agent': 'Synapse-PT-HttpComponents-NIO', 'accept': 'application/json, text/event-stream'}
INFO:weather_mcp_openmeteo:Response status: 200
INFO:     192.168.1.181:65420 - "GET /mcp HTTP/1.1" 200 OK
